<ion-header [translucent]="true" class="header">
  <ion-toolbar class="header-toolbar">
    <div class="search-container">
      <div class="search-wrapper">
        <ion-icon name="search" class="search-icon"></ion-icon>
        <input
          type="text"
          placeholder="Search Artists..."
          class="search-input"
        />
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" color="dark">
  <div class="ranking-container">
    <!-- Header Section -->
    <div class="header-section">
      <h1 class="main-title">Classement des Artistes</h1>
      <p class="subtitle">Découvrez les talents qui font vibrer notre communauté</p>
      
      <!-- Tab Buttons -->
      <div class="tab-buttons">
        <ion-button 
          [fill]="selectedTab === 'votes' ? 'solid' : 'outline'" 
          [color]="selectedTab === 'votes' ? 'warning' : 'medium'"
          (click)="selectTab('votes')"
          class="tab-button">
          <ion-icon name="trophy" slot="start"></ion-icon>
          Top Votes
        </ion-button>
        <ion-button 
          [fill]="selectedTab === 'dons' ? 'solid' : 'outline'" 
          [color]="selectedTab === 'dons' ? 'warning' : 'medium'"
          (click)="selectTab('dons')"
          class="tab-button">
          <ion-icon name="cash" slot="start"></ion-icon>
          Top Dons
        </ion-button>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <ion-spinner name="crescent" color="warning"></ion-spinner>
      <p>Chargement des classements...</p>
    </div>

    <!-- ============================================ -->
    <!-- SECTION VOTES (affichée uniquement si votes) -->
    <!-- ============================================ -->
    <ng-container *ngIf="!isLoading && selectedTab === 'votes'">
      <app-votes-ranking 
        [isLoading]="isLoading"
        [challengeRankings]="challengeRankings"
        [topArtists]="topArtists"
        (viewChallenge)="onViewChallenge($event)">
      </app-votes-ranking>
    </ng-container>

    <!-- ============================================ -->
    <!-- SECTION DONS (affichée uniquement si dons)  -->
    <!-- ============================================ -->
    <ng-container *ngIf="!isLoading && selectedTab === 'dons'">
      <app-donations-ranking 
        [isLoading]="isLoading"
        [topDonors]="topDonors"
        [donorTiers]="donorTiers"
        (viewDonor)="onViewDonor($event)">
      </app-donations-ranking>
    </ng-container>
  </div>
  
 
</ion-content>